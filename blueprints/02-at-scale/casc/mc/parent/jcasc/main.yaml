
beekeeper:
  enabled: true
  securityWarnings:
    enabledForCore: true
    enabledForPlugins: true
  upgrades:
    autoDowngradePlugins: false
    autoUpgradePlugins: true
appearance:
  consoleUrlProvider:
    providers:
    - "cloudbeesPipelineExplorer"
unclassified:
  timestamper:
    allPipelines: true
  buildDiscarders:
    configuredBuildDiscarders:
      - "jobBuildDiscarder"
      - simpleBuildDiscarder:
          discarder:
            logRotator:
              numToKeepStr: "3"
  artifactManager:
    artifactManagerFactories:
    - jclouds:
        provider: "s3"
  workspaceCache:
    cacheManager: "s3"
  hibernationConfiguration:
    activities:
    - "build"
    - web:
        ignored: "/prometheus/|/metrics/.+|.+/api/.+|/managed-master-hibernation/verifyToken|.*/ajax.*|/login|/[$]stapler/bound/.+|.+/wfapi/.+|/sse-gateway/listen/.+|/tcpSlaveAgentListener/|.+/progressiveHtml|.+/log/"
    enabled: true
    gracePeriod: 3600
  openTelemetry:
    endpoint: ${ot_endpoint}
    observabilityBackends:
    - grafana:
        grafanaBaseUrl: ${sec_grafanaHostName}
        tempoDataSourceIdentifier: "Tempo"
aws:
  s3:
    container: "${sec_s3bucketName}"
    disableSessionToken: false
    prefix: "cbci/"
    useHttp: false
    usePathStyleUrl: false
    useTransferAcceleration: false
kube:
  podTemplatesConfiguration:
    templates:
      - containers:
          - args: "99d"
            command: "sleep"
            image: "maven:3.9.6-amazoncorretto-8"
            name: "maven"
            ttyEnabled: true
            workingDir: "/home/jenkins/agent"
            resourceRequestMemory: "500Mi"
            resourceLimitMemory: "1Gi"
            resourceRequestCpu: "250m"
          - args: "99d"
            command: "sleep"
            image: "golang:alpine3.19"
            name: "go"
            ttyEnabled: true
            workingDir: "/home/jenkins/agent"
            resourceRequestMemory: "500Mi"
            resourceLimitMemory: "1Gi"
            resourceRequestCpu: "250m"
        label: "maven-and-go-ondemand"
        name: "maven-and-go-ondemand"
        nodeSelector: "role=build-linux"
        nodeUsageMode: NORMAL
        yaml: |-
          apiVersion: v1
          kind: Pod
          spec:
            tolerations:
              - key: "dedicated"
                operator: "Equal"
                value: "build-linux"
                effect: "NoSchedule"
      - containers:
          - args: "99d"
            command: "sleep"
            image: "maven:3.9.6-amazoncorretto-8"
            name: "maven"
            ttyEnabled: true
            workingDir: "/home/jenkins/agent"
            resourceRequestMemory: "500Mi"
            resourceLimitMemory: "1Gi"
            resourceRequestCpu: "250m"
        label: "maven-spot"
        name: "maven-spot"
        nodeSelector: "role=build-linux-spot"
        nodeUsageMode: NORMAL
        yaml: |-
          apiVersion: v1
          kind: Pod
          spec:
            tolerations:
              - key: "dedicated"
                operator: "Equal"
                value: "build-linux-spot"
                effect: "NoSchedule"
