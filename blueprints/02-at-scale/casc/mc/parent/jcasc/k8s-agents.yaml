kube:
  podTemplatesConfiguration:
    templates:
    - label: "maven-and-go-ondemand"
      name: "maven-and-go-ondemand"
      nodeUsageMode: "NORMAL"
      yaml: |-
        apiVersion: "v1"
        kind: "Pod"
        spec:
          containers:
          - args:
            - "99d"
            command:
            - "sleep"
            image: "maven:3.9.6-amazoncorretto-8"
            name: "maven"
            resources:
              limits:
                memory: "1Gi"
              requests:
                memory: "500Mi"
                cpu: "250m"
          - args:
            - "99d"
            command:
            - "sleep"
            image: "golang:alpine3.19"
            name: "go"
            resources:
              limits:
                memory: "1Gi"
              requests:
                memory: "500Mi"
                cpu: "250m"
          nodeSelector:
            role: "build-linux"
          tolerations:
          - effect: "NoSchedule"
            key: "dedicated"
            operator: "Equal"
            value: "build-linux"
      yamlMergeStrategy: "override"
    - label: "windows-powershell"
      name: "windows-powershell"
      yaml: |-
        apiVersion: v1
        kind: Pod
        spec:
          containers:
          - name: jnlp
            image: jenkins/inbound-agent:windowsservercore-1809
          - name: shell
            image: mcr.microsoft.com/powershell:preview-windowsservercore-1809
            command:
            - powershell
            args:
            - Start-Sleep
            - 999999
          nodeSelector:
            kubernetes.io/os: windows
      yamlMergeStrategy: "override"
    - label: "maven-spot"
      name: "maven-spot"
      nodeUsageMode: "NORMAL"
      yaml: |-
        apiVersion: "v1"
        kind: "Pod"
        spec:
          containers:
          - args:
            - "99d"
            command:
            - "sleep"
            image: "maven:3.9.6-amazoncorretto-8"
            name: "maven"
            resources:
              limits:
                memory: "1Gi"
              requests:
                memory: "500Mi"
                cpu: "250m"
          nodeSelector:
            role: "build-linux-spot"
          tolerations:
          - effect: "NoSchedule"
            key: "dedicated"
            operator: "Equal"
            value: "build-linux-spot"
      yamlMergeStrategy: "override"